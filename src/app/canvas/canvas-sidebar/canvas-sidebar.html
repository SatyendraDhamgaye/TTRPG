<div class="sidebar">



  <!-- ================= TOP BAR ================= -->
<!-- ================= TOP BAR ================= -->
<div class="top-bar">

  <!-- ğŸ‘‰ REAL ROUTER NAVIGATION -->
<i (click)="setMode('map')"
   [class.active]="mode === 'map'"
   title="Map">ğŸ—º</i>

<i (click)="setMode('characters')"
   [class.active]="mode === 'characters'"
   title="Characters">ğŸ‘¤</i>


  <!-- EXISTING MODE SWITCHES -->
  <i (click)="setMode('tokens')"
     [class.active]="mode === 'tokens'"
     title="Tokens">ğŸ´</i>

  <i (click)="setMode('pdfs')"
     [class.active]="mode === 'pdfs'"
     title="Handouts">ğŸ“œ</i>

  <i (click)="setMode('music')"
     [class.active]="mode === 'music'"
     title="Music">ğŸ§</i>

  <i (click)="setMode('settings')"
     [class.active]="mode === 'settings'"
     title="Settings">âš™ï¸</i>

</div>


  <!-- ================ TOKENS MODE ================ -->
  <div *ngIf="mode === 'tokens'" class="mode-container">

    <!-- SEARCH (ONLY ONE) -->
    <div class="search">
      <input
        placeholder="Search by name..."
        [(ngModel)]="search"
      />
    </div>


    <!-- LIST -->
   <div class="scroll-zone">
      <div class="section-title">Tokens</div>

      <div class="token-list">

        <div
          class="token-row"
          *ngFor="let t of filteredTokens"
          draggable="true"
          (dragstart)="dragStart($event, t)"
        >
          <img [src]="t.image">
          <span>{{t.name}}</span>
          <button (click)="delete(t.id)">âœ•</button>
        </div>

      </div>
      
    </div>

    <!-- CREATOR -->
    <div class="creator">
      New Token
      <input [(ngModel)]="name" placeholder="Name">

      <input type="file" (change)="onFile($event)">

      <div class="preview">
        <img *ngIf="image" [src]="image">
        <span *ngIf="!image">No Image</span>
      </div>

      <select [(ngModel)]="size">
        <option value="medium">Medium 1x1</option>
        <option value="large">Large 2x2</option>
        <option value="huge">Huge 3x3</option>
        <option value="gargantuan">Gargantuan 4x4</option>
      </select>

      <button (click)="create()">Create</button>

    </div>

  </div>

  <!-- ================ OTHER MODES ================ -->

  <div *ngIf="mode === 'map'" class="empty">
  Map tools coming soon...
</div>


  <div *ngIf="mode === 'characters'" class="empty">
    Characters coming soon...
  </div>

  <div *ngIf="mode === 'pdfs'" class="empty">
    Handouts & PDFs coming soon...
  </div>

  <div *ngIf="mode === 'music'" class="empty">
    Music player coming soon...
  </div>

  <div *ngIf="mode === 'settings'" class="empty">
    Settings panel coming soon...
  </div>

</div>
